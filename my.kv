#:import utils kivy.utils
#:import LabelBase kivy.core.text
#:import MapView kivy.garden.mapview.MapView


WindowManager:
    MainWindow:
    SecondWindow:
    LoginWindow:
    WelcomeScreen:
    HomeScreen:
    locationsetupwindow:
    alertsetupscreen:
    alertsetupwindow:
    menuscreen:
    profilescreen:
    buspassscreen:


<MainWindow>:
    name: 'main'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F6C707')
        Rectangle:
            pos: self.pos
            size: self.size
    Image:
        source:'assets/logo.png'

<SecondWindow>:
    name: 'Second'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F8FBFF')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        size:root.width,root.height
        Image:
            source:'assets/secwinimage.png'
            pos : (-24.17,146.635)
            size : (256.66,280.73)
        MDBoxLayout:
            size_hint: (0.53,0.0357)
            pos_hint: {'center_x':0.4986,'center_y': 0.4113}
            MDLabel:
                text: 'Route Building'
                color : (0,0,0,1)
                halign:"center"
                font_size: 28
                font_name: "DMSans_med"
        MDBoxLayout:
            pos_hint: {'center_x':0.484,'center_y':0.3583}
            size_hint: (0.87,0.0541)
            MDLabel:
                text: 'Drag the mark to a specific point on the map \n or enter your street to map routes'
                color : (0,0,0,0.6)
                halign:"center"
                font_size: 16
                font_name: "DMSans_reg"
        MDFillRoundFlatButton:
            pos_hint: {'center_x':0.5,'center_y':0.1748}
            text: 'Next'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F6C707')
            on_press: root.manager.current='Login'

<LoginWindow>:
    name:'Login'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F8FBFF')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        size:root.width,root.height
        MDBoxLayout:
            size_hint:(0.3493,0.0554)
            pos_hint:{'x':0.336,'y':0.8707}
            MDLabel:
                text: 'BusGo!'
                color : (0,0,0,1)
                font_size: 38
                font_name: "DMSans_med"
        MDLabel:
            pos_hint:{'x':0.086,'y':0.7192}
            size_hint:(0.3,0.0246)
            text: 'Email Address'
            color : (0,0,0,1)
            font_size: 15
            font_name: "DMSans_reg"
        MDTextField:
            pos_hint:{'center_x':0.4987,'center_y':0.6810}
            size_hint:(0.8907,0.0615)
            fill_color_normal: utils.get_color_from_hex('#FFFFFF')
            line_color_focus: utils.get_color_from_hex('#F6C707')
            text_color_focus: utils.get_color_from_hex('#1C1C1C')
            hint_text:"Enter Email Address"
            mode: "round"
        MDLabel:
            pos_hint:{'x':0.086,'y':0.5800}
            size_hint:(0.2,0.0246)
            text: 'Password'
            color : (0,0,0,1)
            font_size: 15
            font_name: "DMSans_reg"
        MDTextField:
            pos_hint:{'center_x':0.4987,'center_y':0.5455}
            size_hint:(0.8907,0.0615)
            hint_text:"Enter Password"
            fill_color_normal: utils.get_color_from_hex('#FFFFFF')
            line_color_focus: utils.get_color_from_hex('#F6C707')
            text_color_focus: utils.get_color_from_hex('#1C1C1C')
            mode: "round"
        MDFillRoundFlatButton:
            pos_hint:{'center_x':0.5,'center_y':0.1884}
            width:root.width * 0.8907
            height:root.height * 0.0616
            text: 'Create an account'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F6C707')
            on_press: root.manager.current='Welcome'
        MDLabel:
            pos_hint:{'x':0.086,'y':0.4445}
            size_hint:(0.4,0.0246)
            text: 'Confirm Password'
            color : (0,0,0,1)
            font_size: 15
            font_name: "DMSans_reg"
        MDTextField:
            pos_hint:{'center_x':0.4987,'center_y':0.4101}
            size_hint:(0.8907,0.0615)
            hint_text:"Re-enter Password"
            fill_color_normal: utils.get_color_from_hex('#FFFFFF')
            line_color_focus: utils.get_color_from_hex('#F6C707')
            text_color_focus: utils.get_color_from_hex('#1C1C1C')
            mode: "round"
        MDTextButton:
            pos_hint:{'center_x':0.5,'center_y':0.1114}
            text: "[u]Login to account[/u]"
            text_color: utils.get_color_from_hex('#000000')
            markup: True
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.5,'center_y':0.2746}
            width:root.width * 0.544
            height:root.height * 0.0616
            text: '   Sign-in with Google'
            markup: True
            icon:'assets/signup.png'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#FFFFFF')

<WelcomeScreen>:
    name:'Welcome'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F8FBFF')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        size:root.width,root.height
        MDBoxLayout:
            size: (176,48)
            pos: (100,306)
            MDLabel:
                text: 'Welcome!'
                color : (0,0,0,1)
                font_size: 40
                font_name: "DMSans_med"
        MDLabel:
            pos:(66,656.5)
            size_hint:None,None
            size:(255,31)
            text: 'Kindly fill in the details'
            color : (0,0,0,1)
            font_size: 24
            font_name: "DMSans_reg"
        MDLabel:
            pos:(27,594)
            size_hint:None,None
            size:(70,20)
            text: 'Full Name'
            color : (0,0,0,1)
            font_size: 15
            font_name: "DMSans_reg"
        MDTextField:
            pos:(21,553)
            size_hint:None,None
            size:(334,50)
            fill_color_normal: utils.get_color_from_hex('#FFFFFF')
            line_color_focus: utils.get_color_from_hex('#F6C707')
            text_color_focus: utils.get_color_from_hex('#1C1C1C')
            hint_text:"Enter Full Name"
            mode: "round"
        MDLabel:
            pos:(27,481)
            size_hint:None,None
            size:(85,20)
            text: 'Roll Number'
            color : (0,0,0,1)
            font_size: 15
            font_name: "DMSans_reg"
        MDTextField:
            pos:(21,440)
            size_hint:None,None
            size:(334,50)
            hint_text:"Enter Roll Number"
            fill_color_normal: utils.get_color_from_hex('#FFFFFF')
            line_color_focus: utils.get_color_from_hex('#F6C707')
            text_color_focus: utils.get_color_from_hex('#1C1C1C')
            mode: "round"
        MDLabel:
            pos:(27,355)
            size_hint:None,None
            size:(55,20)
            text: 'Gender'
            color : (0,0,0,1)
            font_size: 15
            font_name: "DMSans_reg"
        MDLabel:
            pos:(62,329.5)
            size_hint:None,None
            size:(33,17)
            text: 'Male'
            color : (0,0,0,1)
            font_size: 15
            font_name: "DMSans_reg"
        MDLabel:
            pos:(136,329.5)
            size_hint:None,None
            size:(50,17)
            text: 'Female'
            color : (0,0,0,1)
            font_size: 15
            font_name: "DMSans_reg"
        MDCheckbox:
            size_hint:None,None
            size:(16,16)
            pos:(40,330)
        MDCheckbox:
            size_hint:None,None
            size:(16,16)
            pos:(114,330)
        MDFillRoundFlatButton:
            pos: (147,117)
            text: 'Save'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F6C707')
            on_press: root.manager.current='Home'

<HomeScreen>:
    name:'Home'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F8FBFF')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        MDBoxLayout:
            size_hint:(1,0.7537)
            pos_hint:{'x':0,'top':1}
            MapView:
                lat:17.3344
                lon:78.4065
                zoom:16
        MDBoxLayout:
            size_hint:(1,0.2463)
            pos_hint:{'x':0,'y':0}
            md_bg_color: utils.get_color_from_hex('#F8FBFF')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.5,'center_y':0.175}
            text: 'Choose a pickup location'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F6C707')
            icon: "map-marker"
            icon_color: utils.get_color_from_hex('#000000')
            on_press: root.manager.current='locationsetup'
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.5,'center_y':0.09}
            text: 'Search your locality'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F6C707')
            icon: "magnify"
            icon_color: utils.get_color_from_hex('#000000')
        MDFloatingActionButton:
            size_hint:(0.128,0.05911)
            pos_hint: {'x':0.0746,'y':0.9568}
            icon:"menu"
            md_bg_color:utils.get_color_from_hex('F8FBFF')
            icon_color: utils.get_color_from_hex('#000000')
            on_press: root.manager.current='menu'
        MDFloatingActionButton:
            size_hint:(0.128,0.05911)
            pos_hint: {'x':0.792,'y':0.9568}
            icon:"bell-outline"
            md_bg_color:utils.get_color_from_hex('F8FBFF')
            icon_color: utils.get_color_from_hex('#000000')
        MDLabel:
            pos_hint:{'center_x':0.509,'center_y':0.135}
            size_hint:(0.08,0.0197)
            text: 'or'
            color : (0,0,0,1)
            font_size: 15
            font_name: "DMSans_reg"

<locationsetupwindow>:
    name:'locationsetup'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F8FBFF')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        MDBoxLayout:
            size_hint:(1,0.7537)
            pos_hint:{'x':0,'top':1}
            MapView:
                lat:17.3344
                lon:78.4065
                zoom:16
        MDBoxLayout:
            size_hint:(1,0.2463)
            pos_hint:{'x':0,'y':0}
            md_bg_color: utils.get_color_from_hex('#F8FBFF')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.5,'center_y':0.175}
            text: 'Save'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F6C707')
            icon: "content-save"
            icon_color: utils.get_color_from_hex('#000000')
            on_press: root.manager.current='alertsetup'
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.5,'center_y':0.09}
            text: 'Cancel'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F6C707')
            icon: "close-circle-outline"
            icon_color: utils.get_color_from_hex('#000000')
        MDFloatingActionButton:
            size_hint:(0.128,0.05911)
            pos_hint: {'x':0.0746,'y':0.9568}
            icon:"arrow-left"
            md_bg_color:utils.get_color_from_hex('F8FBFF')
            icon_color: utils.get_color_from_hex('#000000')

<alertsetupscreen>:
    name:'alertsetup'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F8FBFF')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        MDBoxLayout:
            size_hint:(1,0.7537)
            pos_hint:{'x':0,'top':1}
            MapView:
                lat:17.3344
                lon:78.4065
                zoom:16
        MDBoxLayout:
            size_hint:(1,0.2463)
            pos_hint:{'x':0,'y':0}
            md_bg_color: utils.get_color_from_hex('#F8FBFF')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.5,'center_y':0.175}
            text: 'Create new Alert'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F6C707')
            icon: "alert"
            icon_color: utils.get_color_from_hex('#000000')
            on_press: root.manager.current='alertsetupw'
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.5,'center_y':0.09}
            text: 'Edit Pickup Location'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F6C707')
            icon: "pencil"
            icon_color: utils.get_color_from_hex('#000000')
        MDFloatingActionButton:
            size_hint:(0.128,0.05911)
            pos_hint: {'x':0.0746,'y':0.9568}
            icon:"menu"
            md_bg_color:utils.get_color_from_hex('F8FBFF')
            icon_color: utils.get_color_from_hex('#000000')
            on_press: root.manager.current='menu'
        MDFloatingActionButton:
            size_hint:(0.128,0.05911)
            pos_hint: {'x':0.792,'y':0.9568}
            icon:"bell-outline"
            md_bg_color:utils.get_color_from_hex('F8FBFF')
            icon_color: utils.get_color_from_hex('#000000')

<alertsetupwindow>:
    name:'alertsetupw'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F8FBFF')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        MDBoxLayout:
            size_hint:(1,0.7537)
            pos_hint:{'x':0,'top':1}
            MapView:
                lat:17.3344
                lon:78.4065
                zoom:16
        MDBoxLayout:
            size_hint:(1,0.2463)
            pos_hint:{'x':0,'y':0}
            md_bg_color: utils.get_color_from_hex('#F8FBFF')
        MDFloatingActionButton:
            size_hint:(0.128,0.05911)
            pos_hint: {'x':0.0746,'y':0.9568}
            icon:"menu"
            md_bg_color:utils.get_color_from_hex('F8FBFF')
            icon_color: utils.get_color_from_hex('#000000')
            on_press: root.manager.current='menu'
        MDFloatingActionButton:
            size_hint:(0.128,0.05911)
            pos_hint: {'x':0.792,'y':0.9568}
            icon:"bell-outline"
            md_bg_color:utils.get_color_from_hex('F8FBFF')
            icon_color: utils.get_color_from_hex('#000000')
        MDLabel:
            pos_hint:{'center_x':0.53,'center_y':0.2019}
            size_hint:(0.8426,0.0197)
            text: 'How Early do you want us to notify you?'
            color : (0,0,0,1)
            font_size: 16
            font_name: "DMSans_reg"
        MDTextField:
            pos_hint:{'center_x':0.5013,'center_y':0.1416}
            size_hint:(0.784,0.069)
            hint_text:"Enter Time in Minutes"
            fill_color_normal: utils.get_color_from_hex('#F6C707')
            line_color_focus: utils.get_color_from_hex('#000000')
            text_color_focus: utils.get_color_from_hex('#1C1C1C')
            hint_text_color_focus: utils.get_color_from_hex('#000000')
            mode: "fill"
        MDFillRoundFlatButton:
            pos_hint:{'center_x':0.5,'center_y':0.065}
            text: 'Save'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F6C707')

<menuscreen>:
    name:'menu'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F6C707')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        MDBoxLayout:
            size_hint:(1,0.6995)
            pos_hint:{'x':0,'y':0}
            md_bg_color: utils.get_color_from_hex('#F5F8FF')
        MDIconButton:
            size_hint:(0.128,0.05911)
            pos_hint: {'x':0.0746,'y':0.9568}
            icon:"close"
            on_press: root.manager.current='alertsetup'
            md_bg_color:utils.get_color_from_hex('#F6C707')
            icon_color: utils.get_color_from_hex('#000000')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.6}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'Profile Info'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "account"

            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')
            on_press: root.manager.current='profile'
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.52}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'Bus Pass'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "account"
            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')
            on_press: root.manager.current='buspass'
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.44}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'Notifications'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "bell"
            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.36}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'Alerts'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "clock-alert"
            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.28}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'Settings'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "cog"
            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')

<profilescreen>:
    name:'profile'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F6C707')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        MDBoxLayout:
            size_hint:(1,0.6995)
            pos_hint:{'x':0,'y':0}
            md_bg_color: utils.get_color_from_hex('#F5F8FF')
        MDIconButton:
            size_hint:(0.128,0.05911)
            pos_hint: {'x':0.0746,'y':0.9568}
            icon:"close"
            on_press: root.manager.current='menu'
            md_bg_color:utils.get_color_from_hex('#F6C707')
            icon_color: utils.get_color_from_hex('#000000')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.6}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'Email'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "email"
            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')
            on_press: root.manager.current='profile'
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.52}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'Date of Birth'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "calendar-range"
            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.44}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'Gender'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "human-male-female"
            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')

<buspassscreen>:
    name:'buspass'
    canvas.before:
        Color:
            rgb : utils.get_color_from_hex('#F6C707')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        MDBoxLayout:
            size_hint:(1,0.6995)
            pos_hint:{'x':0,'y':0}
            md_bg_color: utils.get_color_from_hex('#F5F8FF')
        MDIconButton:
            size_hint:(0.128,0.05911)
            pos_hint: {'x':0.0746,'y':0.9568}
            icon:"close"
            on_press: root.manager.current='menu'
            md_bg_color:utils.get_color_from_hex('#F6C707')
            icon_color: utils.get_color_from_hex('#000000')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.6}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'Bus Pass'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "email"
            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.52}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'ID Number'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "calendar-range"
            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')
        MDFillRoundFlatIconButton:
            pos_hint:{'center_x':0.4906,'center_y':0.44}
            size_hint:(None,None)
            width:root.width * 1
            height:root.height * 0.05911
            text: 'Validity'
            text_color: utils.get_color_from_hex('#000000')
            font_size:18
            md_bg_color : utils.get_color_from_hex('#F5F8FF')
            icon: "human-male-female"
            rounded_button:False
            icon_color: utils.get_color_from_hex('#000000')